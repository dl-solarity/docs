# VerifierHelper

## Library Description


License: MIT

## 

```solidity
library VerifierHelper
```

This library is needed to simplify the interaction with autogenerated contracts
that use [snarkjs](https://www.npmjs.com/package/snarkjs) to verify ZK proofs.

The main problem with these contracts is that the verification function always has the same signature, except for one parameter.
The `input` parameter is a static array `uint256`, the size of which depends on the number of public outputs of ZK proof,
therefore the signatures of the verification functions may be different for different schemes.

With this library there is no need to create many different interfaces for each circuit.
Also, the library functions accept dynamic arrays of public signals, so you don't need to convert them manually to static ones.
## Structs info

### ProofPoints

```solidity
struct ProofPoints {
	uint256[2] a;
	uint256[2][2] b;
	uint256[2] c;
}
```


## Functions info

### verifyProof

```solidity
function verifyProof(
    address verifier_,
    uint256[] memory pubSignals_,
    VerifierHelper.ProofPoints memory proofPoints_
) internal view returns (bool)
```

Function to call the `verifyProof` function on the `verifier` contract.
The ZK proof points are wrapped in a structure for convenience


Parameters:

| Name         | Type                              | Description                                           |
| :----------- | :-------------------------------- | :---------------------------------------------------- |
| verifier_    | address                           | the address of the autogenerated `Verifier` contract  |
| pubSignals_  | uint256[]                         | the array of the ZK proof public signals              |
| proofPoints_ | struct VerifierHelper.ProofPoints | the ProofPoints struct with ZK proof points           |


Return values:

| Name | Type | Description                                   |
| :--- | :--- | :-------------------------------------------- |
| [0]  | bool | true if the proof is valid, false - otherwise |

### verifyProof

```solidity
function verifyProof(
    address verifier_,
    uint256[] memory pubSignals_,
    uint256[2] memory a_,
    uint256[2][2] memory b_,
    uint256[2] memory c_
) internal view returns (bool)
```

Function to call the `verifyProof` function on the `verifier` contract


Parameters:

| Name        | Type          | Description                                           |
| :---------- | :------------ | :---------------------------------------------------- |
| verifier_   | address       | the address of the autogenerated `Verifier` contract  |
| pubSignals_ | uint256[]     | the array of the ZK proof public signals              |
| a_          | uint256[2]    | the A point of the ZK proof                           |
| b_          | uint256[2][2] | the B point of the ZK proof                           |
| c_          | uint256[2]    | the C point of the ZK proof                           |


Return values:

| Name | Type | Description                                   |
| :--- | :--- | :-------------------------------------------- |
| [0]  | bool | true if the proof is valid, false - otherwise |

### verifyProofSafe

```solidity
function verifyProofSafe(
    address verifier_,
    uint256[] memory pubSignals_,
    VerifierHelper.ProofPoints memory proofPoints_,
    uint256 pubSignalsCount_
) internal view returns (bool)
```

Function to call the `verifyProof` function on the `verifier` contract.
The ZK proof points are wrapped in a structure for convenience
The length of the `pubSignals_` arr must be strictly equal to `pubSignalsCount_`


Parameters:

| Name             | Type                              | Description                                           |
| :--------------- | :-------------------------------- | :---------------------------------------------------- |
| verifier_        | address                           | the address of the autogenerated `Verifier` contract  |
| pubSignals_      | uint256[]                         | the array of the ZK proof public signals              |
| proofPoints_     | struct VerifierHelper.ProofPoints | the ProofPoints struct with ZK proof points           |
| pubSignalsCount_ | uint256                           | the number of public signals                          |


Return values:

| Name | Type | Description                                   |
| :--- | :--- | :-------------------------------------------- |
| [0]  | bool | true if the proof is valid, false - otherwise |

### verifyProofSafe

```solidity
function verifyProofSafe(
    address verifier_,
    uint256[] memory pubSignals_,
    uint256[2] memory a_,
    uint256[2][2] memory b_,
    uint256[2] memory c_,
    uint256 pubSignalsCount_
) internal view returns (bool)
```

Function to call the `verifyProof` function on the `verifier` contract
The length of the `pubSignals_` arr must be strictly equal to `pubSignalsCount_`


Parameters:

| Name             | Type          | Description                                           |
| :--------------- | :------------ | :---------------------------------------------------- |
| verifier_        | address       | the address of the autogenerated `Verifier` contract  |
| pubSignals_      | uint256[]     | the array of the ZK proof public signals              |
| a_               | uint256[2]    | the A point of the ZK proof                           |
| b_               | uint256[2][2] | the B point of the ZK proof                           |
| c_               | uint256[2]    | the C point of the ZK proof                           |
| pubSignalsCount_ | uint256       | the number of public signals                          |


Return values:

| Name | Type | Description                                   |
| :--- | :--- | :-------------------------------------------- |
| [0]  | bool | true if the proof is valid, false - otherwise |
